"use client";
import clsx from "clsx";
import { useContext } from "react";
import { SongListContext } from "./playlistOption/ContextSongListContainer";
import AlbumImg from "../albumContainer/AlbumImg";
import InfoList from "../searchPage/topResult/InfoList";
import { listSongsSection } from "@/database/data";

function PlaylistUpperContainer({
  deviceFromUserAgent,
}: {
  deviceFromUserAgent:
    | "mobile"
    | "tablet"
    | "desktop"
    | "console"
    | "smarttv"
    | "wearable"
    | "xr"
    | "embedded";
}) {
  const { name, type, cover_url, is_official, related_id, related_name } =
    useContext(SongListContext) as listSongsSection;
  return (
    <div
      className={clsx("Container w-full flex  items-center p-5 ", {
        "flex-col":
          deviceFromUserAgent === "mobile" || deviceFromUserAgent === "tablet",
        "gap-4":
          deviceFromUserAgent === "mobile" || deviceFromUserAgent === "tablet",
        "gap-8 md:gap-10 lg:gap-12": deviceFromUserAgent === "desktop",
      })}
    >
      <AlbumImg cover_url={cover_url} type={type} />
      <div
        className={clsx("pt-2 max-w-full space-y-4  truncate flex-1 ", {
          "self-start ":
            deviceFromUserAgent === "mobile" ||
            deviceFromUserAgent === "tablet",
        })}
      >
        <p
          className={clsx("font-black truncate", {
            "text-3xl md:text-5xl lg:text-6xl":
              deviceFromUserAgent === "desktop",
            "text-2xl md:text-4xl lg:text-6xl ":
              deviceFromUserAgent === "mobile" ||
              deviceFromUserAgent === "tablet",
          })}
        >
          {name}
        </p>
        <div className="flex items-center ">
          <span className=" border text-base lg:text-lg font-medium p-1 mr-2">
            {type.toUpperCase()}
          </span>
          <span className=" flex">
            <InfoList
              type={type}
              related_id={related_id}
              related_name={related_name}
              is_official={is_official}
            />
          </span>
        </div>
      </div>
    </div>
  );
}

export default PlaylistUpperContainer;
